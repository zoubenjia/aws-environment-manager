<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>AWS Environment Manager</title>
    <link rel="stylesheet" href="popup-fixed.css">
    <link rel="stylesheet" href="region-styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h3>ğŸš€ AWS Environment Manager</h3>
        </div>
        
        <div class="status" id="status">
            çŠ¶æ€ï¼šåˆå§‹åŒ–ä¸­...
        </div>
        
        <div class="buttons">
            <button id="addBtn" class="btn btn-add">
                â• æ·»åŠ ç¯å¢ƒ
            </button>
            
            <button id="addContainerBtn" class="btn" style="background: #17a2b8; color: white;">
                ğŸ“¦ å®¹å™¨çŠ¶æ€
            </button>
            
            <button id="viewBtn" class="btn btn-view">
                ğŸ‘ï¸ æŸ¥çœ‹ç¯å¢ƒ
            </button>
            
            <button id="resetBtn" class="btn btn-reset">
                ğŸ”„ é‡ç½®é»˜è®¤
            </button>
            
            <button id="fixColorsBtn" class="btn" style="background: #6f42c1; color: white; font-size: 12px; padding: 8px;">
                ğŸ¨ ä¿®å¤é¢œè‰²
            </button>
            
            <button id="tstConfigBtn" class="btn" style="background: #20c997; color: white; font-size: 12px; padding: 8px;">
                ğŸŒ³ TSTé…ç½®
            </button>
            
            <button id="clipboardBtn" class="btn" style="background: #fd7e14; color: white; font-size: 12px; padding: 8px;">
                ğŸ“‹ å‰ªè´´æ¿
            </button>
            
            <button id="debugTSTBtn" class="btn" style="background: #e83e8c; color: white; font-size: 12px; padding: 8px;">
                ğŸ” TSTè°ƒè¯•
            </button>
            
            <button id="forceTSTBtn" class="btn" style="background: #dc3545; color: white; font-size: 12px; padding: 8px;">
                ğŸ”§ å¼ºåˆ¶å†™å…¥
            </button>
            
            <button id="immediateApplyBtn" class="btn" style="background: #28a745; color: white; font-size: 12px; padding: 8px;">
                âš¡ ç«‹å³åº”ç”¨
            </button>
        </div>
        
        <div class="env-list" id="envList">
            <!-- ç¯å¢ƒåˆ—è¡¨å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
        </div>
    </div>
    
    <!-- ä¿®å¤å®šä½çš„è‡ªå®šä¹‰å¯¹è¯æ¡† -->
    <div id="customDialog" class="dialog-overlay" style="display: none;">
        <div class="dialog-box">
            <div class="dialog-header">
                <span id="dialogTitle">æç¤º</span>
                <button id="dialogClose" class="dialog-close">Ã—</button>
            </div>
            <div class="dialog-content" id="dialogContent">
                <!-- å¯¹è¯æ¡†å†…å®¹ -->
            </div>
            <div class="dialog-buttons">
                <button id="dialogOk" class="dialog-btn dialog-btn-ok">ç¡®å®š</button>
                <button id="dialogCancel" class="dialog-btn dialog-btn-cancel" style="display: none;">å–æ¶ˆ</button>
            </div>
        </div>
    </div>
    
    <!-- ä¿®æ”¹ç¯å¢ƒå¯¹è¯æ¡† -->
    <div id="editDialog" class="dialog-overlay" style="display: none;">
        <div class="dialog-box" style="width: 360px;">
            <div class="dialog-header">
                <span>âœï¸ ä¿®æ”¹ç¯å¢ƒ</span>
                <button id="editDialogClose" class="dialog-close">Ã—</button>
            </div>
            <div class="dialog-content" style="padding: 20px;">
                <div class="form-group">
                    <label for="editName">ç¯å¢ƒåç§°:</label>
                    <input type="text" id="editName" class="form-input" placeholder="è¯·è¾“å…¥ç¯å¢ƒåç§°">
                </div>
                
                <div class="form-group">
                    <label for="editDescription">ç¯å¢ƒæè¿°:</label>
                    <input type="text" id="editDescription" class="form-input" placeholder="è¯·è¾“å…¥ç¯å¢ƒæè¿°">
                </div>
                
                <div class="form-group">
                    <label for="editIcon">ç¯å¢ƒå›¾æ ‡:</label>
                    <select id="editIcon" class="form-input">
                        <option value="ğŸ†•">ğŸ†• æ–°ç¯å¢ƒ</option>
                        <option value="ğŸ”´">ğŸ”´ ç”Ÿäº§ç¯å¢ƒ</option>
                        <option value="ğŸŸ¢">ğŸŸ¢ å¼€å‘ç¯å¢ƒ</option>
                        <option value="ğŸ”µ">ğŸ”µ æµ‹è¯•ç¯å¢ƒ</option>
                        <option value="ğŸŸ¡">ğŸŸ¡ é¢„å‘å¸ƒ</option>
                        <option value="ğŸŸ ">ğŸŸ  æ¼”ç¤ºç¯å¢ƒ</option>
                        <option value="ğŸŸ£">ğŸŸ£ å®éªŒç¯å¢ƒ</option>
                        <option value="âš«">âš« ç»´æŠ¤ç¯å¢ƒ</option>
                        <option value="ğŸ”¹">ğŸ”¹ é»˜è®¤</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="editColor">ç¯å¢ƒé¢œè‰²:</label>
                    <select id="editColor" class="form-input">
                        <option value="#28a745">ğŸŸ¢ ç»¿è‰² (å¼€å‘)</option>
                        <option value="#dc3545">ğŸ”´ çº¢è‰² (ç”Ÿäº§)</option>
                        <option value="#007bff">ğŸ”µ è“è‰² (æµ‹è¯•)</option>
                        <option value="#ffc107">ğŸŸ¡ é»„è‰² (é¢„å‘å¸ƒ)</option>
                        <option value="#fd7e14">ğŸŸ  æ©™è‰² (æ¼”ç¤º)</option>
                        <option value="#6f42c1">ğŸŸ£ ç´«è‰² (å®éªŒ)</option>
                        <option value="#6c757d">âš« ç°è‰² (ç»´æŠ¤)</option>
                        <option value="#17a2b8">ğŸ”¹ é’è‰² (é»˜è®¤)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="editAccountId">è´¦æˆ·ID:</label>
                    <input type="text" id="editAccountId" class="form-input" placeholder="AWSè´¦æˆ·ID">
                </div>
                
                <div class="form-group">
                    <label for="editRoleName">è§’è‰²åç§°:</label>
                    <input type="text" id="editRoleName" class="form-input" placeholder="IAMè§’è‰²åç§°">
                </div>
                
                <div class="form-group">
                    <label for="editRegions">AWSåŒºåŸŸ:</label>
                    <div class="region-selector">
                        <select id="editPrimaryRegion" class="form-input" style="margin-bottom: 8px;">
                            <option value="">é€‰æ‹©ä¸»è¦åŒºåŸŸ</option>
                            <option value="us-east-1">ğŸ‡ºğŸ‡¸ us-east-1 (N. Virginia)</option>
                            <option value="us-east-2">ğŸ‡ºğŸ‡¸ us-east-2 (Ohio)</option>
                            <option value="us-west-1">ğŸ‡ºğŸ‡¸ us-west-1 (N. California)</option>
                            <option value="us-west-2">ğŸ‡ºğŸ‡¸ us-west-2 (Oregon)</option>
                            <option value="eu-west-1">ğŸ‡ªğŸ‡º eu-west-1 (Ireland)</option>
                            <option value="eu-west-2">ğŸ‡ªğŸ‡º eu-west-2 (London)</option>
                            <option value="eu-west-3">ğŸ‡ªğŸ‡º eu-west-3 (Paris)</option>
                            <option value="eu-central-1">ğŸ‡ªğŸ‡º eu-central-1 (Frankfurt)</option>
                            <option value="eu-north-1">ğŸ‡ªğŸ‡º eu-north-1 (Stockholm)</option>
                            <option value="ap-southeast-1">ğŸ‡¦ğŸ‡¸ ap-southeast-1 (Singapore)</option>
                            <option value="ap-southeast-2">ğŸ‡¦ğŸ‡¸ ap-southeast-2 (Sydney)</option>
                            <option value="ap-northeast-1">ğŸ‡¦ğŸ‡¸ ap-northeast-1 (Tokyo)</option>
                            <option value="ap-northeast-2">ğŸ‡¦ğŸ‡¸ ap-northeast-2 (Seoul)</option>
                            <option value="ap-south-1">ğŸ‡¦ğŸ‡¸ ap-south-1 (Mumbai)</option>
                            <option value="ca-central-1">ğŸ‡¨ğŸ‡¦ ca-central-1 (Canada)</option>
                            <option value="sa-east-1">ğŸ‡§ğŸ‡· sa-east-1 (SÃ£o Paulo)</option>
                        </select>
                        
                        <div class="region-checkboxes" style="max-height: 120px; overflow-y: auto; border: 1px solid #ddd; border-radius: 4px; padding: 8px;">
                            <div style="font-size: 12px; color: #666; margin-bottom: 6px;">é€‰æ‹©é¢å¤–åŒºåŸŸ (å¯å¤šé€‰):</div>
                            
                            <label class="region-checkbox">
                                <input type="checkbox" value="us-east-1"> ğŸ‡ºğŸ‡¸ us-east-1 (N. Virginia)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="us-east-2"> ğŸ‡ºğŸ‡¸ us-east-2 (Ohio)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="us-west-1"> ğŸ‡ºğŸ‡¸ us-west-1 (N. California)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="us-west-2"> ğŸ‡ºğŸ‡¸ us-west-2 (Oregon)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="eu-west-1"> ğŸ‡ªğŸ‡º eu-west-1 (Ireland)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="eu-west-2"> ğŸ‡ªğŸ‡º eu-west-2 (London)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="eu-west-3"> ğŸ‡ªğŸ‡º eu-west-3 (Paris)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="eu-central-1"> ğŸ‡ªğŸ‡º eu-central-1 (Frankfurt)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="eu-north-1"> ğŸ‡ªğŸ‡º eu-north-1 (Stockholm)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="ap-southeast-1"> ğŸ‡¦ğŸ‡¸ ap-southeast-1 (Singapore)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="ap-southeast-2"> ğŸ‡¦ğŸ‡¸ ap-southeast-2 (Sydney)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="ap-northeast-1"> ğŸ‡¦ğŸ‡¸ ap-northeast-1 (Tokyo)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="ap-northeast-2"> ğŸ‡¦ğŸ‡¸ ap-northeast-2 (Seoul)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="ap-south-1"> ğŸ‡¦ğŸ‡¸ ap-south-1 (Mumbai)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="ca-central-1"> ğŸ‡¨ğŸ‡¦ ca-central-1 (Canada)
                            </label>
                            <label class="region-checkbox">
                                <input type="checkbox" value="sa-east-1"> ğŸ‡§ğŸ‡· sa-east-1 (SÃ£o Paulo)
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="editSsoUrl">SSOèµ·å§‹URL:</label>
                    <input type="text" id="editSsoUrl" class="form-input" placeholder="https://d-xxxxxxxxxx.awsapps.com/start/#/console">
                </div>
            </div>
            <div class="dialog-buttons">
                <button id="editDialogSave" class="dialog-btn dialog-btn-ok">ğŸ’¾ ä¿å­˜</button>
                <button id="editDialogCancel" class="dialog-btn dialog-btn-cancel">å–æ¶ˆ</button>
            </div>
        </div>
    </div>
    
    <script src="popup-layout-fix.js"></script>
    <script src="popup.js"></script>
    <script src="edit-functions.js"></script>
    <script src="region-handler.js"></script>
    <script src="debug-colors.js"></script>
    <script src="firefox-containers.js"></script>
    <script src="tst-config-generator.js"></script>
    <script src="dynamic-tst-css.js"></script>
    <script src="safe-tst-css.js"></script>
    <script src="auto-copy-paste.js"></script>
    <script src="auto-paste-tst.js"></script>
    <script src="tst-debug.js"></script>
    <script src="force-auto-tst.js"></script>
    <link rel="stylesheet" href="region-styles.css">
</body>
</html>
