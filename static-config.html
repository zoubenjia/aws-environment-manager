<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Environment Browser - é™æ€é…ç½®</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
        }
        
        .section {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 5px;
            color: #333;
        }
        
        .form-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        .environment-item {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            background: #f8f9fa;
        }
        
        .environment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            margin: 5px;
        }
        
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-danger { background: #dc3545; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        
        .btn:hover { opacity: 0.9; }
        
        .debug-info {
            background: #f1f3f4;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            margin-top: 20px;
            font-family: monospace;
            font-size: 12px;
        }
        
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
            font-weight: 500;
        }
        
        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .manual-config {
            background: #e8f4f8;
            border: 1px solid #bee5eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .config-code {
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 15px;
            font-family: monospace;
            font-size: 12px;
            white-space: pre-wrap;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>AWS Environment Browser é…ç½®</h1>
        <p>é™æ€é…ç½®ç‰ˆæœ¬ - è§£å†³JavaScripté—®é¢˜</p>
    </div>

    <!-- é—®é¢˜è¯Šæ–­ -->
    <div class="section">
        <h2>ğŸ” é—®é¢˜è¯Šæ–­</h2>
        <div class="status status-error">
            âŒ JavaScriptåŠŸèƒ½åœ¨æ‰©å±•ç¯å¢ƒä¸­è¢«é˜»æ­¢
        </div>
        <p><strong>é—®é¢˜åŸå› ï¼š</strong></p>
        <ul>
            <li>æ‰©å±•çš„å†…å®¹å®‰å…¨ç­–ç•¥(CSP)é˜»æ­¢äº†å†…è”JavaScript</li>
            <li>onclickäº‹ä»¶å’ŒåŠ¨æ€è„šæœ¬è¢«å®‰å…¨é™åˆ¶</li>
            <li>éœ€è¦ä½¿ç”¨æ‰©å±•ä¸“ç”¨çš„é…ç½®æ–¹å¼</li>
        </ul>
    </div>

    <!-- å½“å‰é…ç½®æ˜¾ç¤º -->
    <div class="section">
        <h2>ğŸ“‹ å½“å‰ç¯å¢ƒé…ç½®</h2>
        
        <div class="form-group">
            <label class="form-label">AWS SSOèµ·å§‹URL</label>
            <input type="text" class="form-input" 
                   value="https://d-9067f2e3cc.awsapps.com/start/#/console" readonly>
        </div>
        
        <h3>ç¯å¢ƒåˆ—è¡¨ï¼š</h3>
        
        <div class="environment-item" style="border-color: #dc3545;">
            <div class="environment-header">
                <span>ğŸ”´ ç”Ÿäº§ç¯å¢ƒ</span>
            </div>
            <div>
                <strong>è´¦å·ID:</strong> 487783143761<br>
                <strong>è§’è‰²:</strong> PowerUserAccess_prod<br>
                <strong>åŒºåŸŸ:</strong> eu-west-2 (ä¼¦æ•¦), us-east-1 (åŒ—å¼—å‰å°¼äºš)
            </div>
        </div>
        
        <div class="environment-item" style="border-color: #28a745;">
            <div class="environment-header">
                <span>ğŸŸ¢ å¼€å‘ç¯å¢ƒ</span>
            </div>
            <div>
                <strong>è´¦å·ID:</strong> 487783143761<br>
                <strong>è§’è‰²:</strong> PowerUserAccess_dev<br>
                <strong>åŒºåŸŸ:</strong> eu-central-1 (æ³•å…°å…‹ç¦), us-west-2 (ä¿„å‹’å†ˆ)
            </div>
        </div>
        
        <div class="environment-item" style="border-color: #007bff;">
            <div class="environment-header">
                <span>ğŸ”µ æµ‹è¯•ç¯å¢ƒ</span>
            </div>
            <div>
                <strong>è´¦å·ID:</strong> 487783143761<br>
                <strong>è§’è‰²:</strong> PowerUserAccess_staging<br>
                <strong>åŒºåŸŸ:</strong> ap-southeast-1 (æ–°åŠ å¡), ap-northeast-1 (ä¸œäº¬)
            </div>
        </div>
    </div>

    <!-- æ‰‹åŠ¨é…ç½®æ–¹æ³• -->
    <div class="section">
        <h2>ğŸ”§ æ‰‹åŠ¨æ·»åŠ ç¯å¢ƒé…ç½®</h2>
        
        <div class="manual-config">
            <h3>æ–¹æ³•1: ä¿®æ”¹backgroundè„šæœ¬</h3>
            <p>ç›´æ¥ç¼–è¾‘ <code>background-multi-account.js</code> æ–‡ä»¶ä¸­çš„ç¯å¢ƒé…ç½®ï¼š</p>
            
            <div class="config-code">// åœ¨ background-multi-account.js ä¸­æ‰¾åˆ° environmentRules æ•°ç»„
// æ·»åŠ æ–°ç¯å¢ƒé…ç½®ï¼š

{
  name: 'æ–°ç¯å¢ƒåç§°',
  type: 'custom',
  icon: 'âšª',
  color: '#6c757d',
  accounts: [
    {
      accountId: 'æ‚¨çš„è´¦å·ID',
      accountName: 'è´¦å·åç§°',
      roleName: 'è§’è‰²åç§°',
      regions: ['åŒºåŸŸ1', 'åŒºåŸŸ2']
    }
  ]
}</div>
        </div>
        
        <div class="manual-config">
            <h3>æ–¹æ³•2: ä½¿ç”¨æµè§ˆå™¨æ§åˆ¶å°</h3>
            <p>åœ¨æ‰©å±•çš„backgroundé¡µé¢æ§åˆ¶å°ä¸­æ‰§è¡Œï¼š</p>
            
            <div class="config-code">// æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œåœ¨æ§åˆ¶å°ä¸­æ‰§è¡Œï¼š

// æ·»åŠ æ–°ç¯å¢ƒ
currentConfig.environmentRules.push({
  name: 'æ–°ç¯å¢ƒ',
  type: 'custom', 
  icon: 'âšª',
  color: '#6c757d',
  accounts: [{
    accountId: '123456789012',
    accountName: 'æ–°è´¦å·',
    roleName: 'PowerUserAccess',
    regions: ['us-east-1']
  }]
});

// ä¿å­˜é…ç½®
browser.storage.local.set(currentConfig);</div>
        </div>
        
        <div class="manual-config">
            <h3>æ–¹æ³•3: åˆ›å»ºç‹¬ç«‹çš„é…ç½®è„šæœ¬</h3>
            <p>åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„HTMLæ–‡ä»¶æ¥é…ç½®ç¯å¢ƒï¼š</p>
            
            <div class="config-code">&lt;!-- åˆ›å»º config-tool.html --&gt;
&lt;script&gt;
// é…ç½®æ•°æ®
const newConfig = {
  ssoStartUrl: 'https://d-9067f2e3cc.awsapps.com/start/#/console',
  environmentRules: [
    // åœ¨è¿™é‡Œæ·»åŠ æ‚¨çš„ç¯å¢ƒé…ç½®
  ]
};

// ä¿å­˜åˆ°localStorage
localStorage.setItem('awsConfig', JSON.stringify(newConfig));
&lt;/script&gt;</div>
        </div>
    </div>

    <!-- è§£å†³æ–¹æ¡ˆ -->
    <div class="section">
        <h2>ğŸ’¡ æ¨èè§£å†³æ–¹æ¡ˆ</h2>
        
        <div class="status status-success">
            âœ… ä½¿ç”¨ç‹¬ç«‹çš„é…ç½®å·¥å…·é¡µé¢
        </div>
        
        <p><strong>æˆ‘å°†ä¸ºæ‚¨åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„é…ç½®å·¥å…·ï¼Œä¸ä¾èµ–æ‰©å±•ç¯å¢ƒï¼š</strong></p>
        <ol>
            <li>åˆ›å»ºç‹¬ç«‹çš„HTMLé…ç½®å·¥å…·</li>
            <li>åœ¨æ ‡å‡†æµè§ˆå™¨ç¯å¢ƒä¸­è¿è¡Œ</li>
            <li>ç”Ÿæˆé…ç½®æ–‡ä»¶ä¾›æ‰©å±•ä½¿ç”¨</li>
            <li>é¿å…æ‰©å±•çš„å®‰å…¨é™åˆ¶</li>
        </ol>
    </div>

    <!-- å½“å‰URLç”Ÿæˆç¤ºä¾‹ -->
    <div class="section">
        <h2>ğŸ”— URLç”Ÿæˆç¤ºä¾‹</h2>
        
        <h3>å¼€å‘ç¯å¢ƒ - æ³•å…°å…‹ç¦ï¼š</h3>
        <div class="config-code">https://d-9067f2e3cc.awsapps.com/start/#/console?account_id=487783143761&role_name=PowerUserAccess_dev&destination=https%3A//eu-central-1.console.aws.amazon.com/console/home%3Fregion%3Deu-central-1</div>
        
        <h3>ç”Ÿäº§ç¯å¢ƒ - ä¼¦æ•¦ï¼š</h3>
        <div class="config-code">https://d-9067f2e3cc.awsapps.com/start/#/console?account_id=487783143761&role_name=PowerUserAccess_prod&destination=https%3A//eu-west-2.console.aws.amazon.com/console/home%3Fregion%3Deu-west-2</div>
    </div>

    <div class="debug-info">
        <strong>è°ƒè¯•ä¿¡æ¯ï¼š</strong><br>
        - æ‰©å±•ç¯å¢ƒæ£€æµ‹ï¼šCSPé™åˆ¶å¯¼è‡´JavaScriptæ— æ³•æ‰§è¡Œ<br>
        - è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ç‹¬ç«‹é…ç½®å·¥å…·æˆ–æ‰‹åŠ¨ç¼–è¾‘é…ç½®æ–‡ä»¶<br>
        - çŠ¶æ€ï¼šå½“å‰é…ç½®å¯æ­£å¸¸ä½¿ç”¨ï¼Œæ·»åŠ æ–°ç¯å¢ƒéœ€è¦æ‰‹åŠ¨æ–¹å¼
    </div>
</body>
</html>
