<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Environment Browser - è®¾ç½®</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 8px;
        }
        
        .section {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }
        
        .setting-item:last-child {
            border-bottom: none;
        }
        
        .setting-label {
            font-weight: 500;
        }
        
        .setting-description {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
        
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 24px;
            background: #ccc;
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .toggle-switch.active {
            background: #4ecdc4;
        }
        
        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s;
        }
        
        .toggle-switch.active .toggle-slider {
            transform: translateX(26px);
        }
        
        .save-button {
            background: #4ecdc4;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
        }
        
        .save-button:hover {
            background: #45b7d1;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>AWS Environment Browser è®¾ç½®</h1>
        <p>é…ç½®æ‚¨çš„AWSç¯å¢ƒæµè§ˆå™¨æ‰©å±•</p>
    </div>

    <div class="section">
        <h2>ğŸ”§ åŸºæœ¬è®¾ç½®</h2>
        
        <div class="setting-item">
            <div>
                <div class="setting-label">è‡ªåŠ¨ç¯å¢ƒæ£€æµ‹</div>
                <div class="setting-description">è‡ªåŠ¨æ£€æµ‹å¹¶æ ‡è¯†AWSåŒºåŸŸå’Œç¯å¢ƒ</div>
            </div>
            <div class="toggle-switch active" data-setting="autoDetection">
                <div class="toggle-slider"></div>
            </div>
        </div>
        
        <div class="setting-item">
            <div>
                <div class="setting-label">æ˜¾ç¤ºåŒºåŸŸé¢œè‰²</div>
                <div class="setting-description">åœ¨AWSæ§åˆ¶å°å¯¼èˆªæ æ˜¾ç¤ºåŒºåŸŸé¢œè‰²æ ‡è¯†</div>
            </div>
            <div class="toggle-switch active" data-setting="showRegionColors">
                <div class="toggle-slider"></div>
            </div>
        </div>
        
        <div class="setting-item">
            <div>
                <div class="setting-label">æ˜¾ç¤ºç¯å¢ƒå›¾æ ‡</div>
                <div class="setting-description">åœ¨é¡µé¢å³ä¸Šè§’æ˜¾ç¤ºç¯å¢ƒæŒ‡ç¤ºå™¨</div>
            </div>
            <div class="toggle-switch active" data-setting="showEnvironmentIcons">
                <div class="toggle-slider"></div>
            </div>
        </div>
        
        <div class="setting-item">
            <div>
                <div class="setting-label">ç”Ÿäº§ç¯å¢ƒè­¦å‘Š</div>
                <div class="setting-description">è®¿é—®ç”Ÿäº§ç¯å¢ƒæ—¶æ˜¾ç¤ºç¡®è®¤æç¤º</div>
            </div>
            <div class="toggle-switch active" data-setting="productionWarning">
                <div class="toggle-slider"></div>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>ğŸŒ ç¯å¢ƒé…ç½®</h2>
        <p>å½“å‰ç¯å¢ƒé…ç½®ï¼š</p>
        <ul>
            <li>ğŸ”´ <strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šä¼¦æ•¦ (eu-west-2)ã€åŒ—å¼—å‰å°¼äºš (us-east-1)</li>
            <li>ğŸŸ¢ <strong>å¼€å‘ç¯å¢ƒ</strong>ï¼šæ³•å…°å…‹ç¦ (eu-central-1)ã€ä¿„å‹’å†ˆ (us-west-2)</li>
            <li>ğŸ”µ <strong>æµ‹è¯•ç¯å¢ƒ</strong>ï¼šæ–°åŠ å¡ (ap-southeast-1)ã€ä¸œäº¬ (ap-northeast-1)</li>
        </ul>
    </div>

    <div class="section">
        <h2>âŒ¨ï¸ å¿«æ·é”®</h2>
        <ul>
            <li><code>Ctrl+Shift+E</code> - æ‰“å¼€ç¯å¢ƒåˆ‡æ¢å™¨</li>
            <li><code>Ctrl+Shift+R</code> - æ˜¾ç¤ºåŒºåŸŸä¿¡æ¯</li>
            <li><code>1-3</code> - åœ¨å¼¹å‡ºçª—å£ä¸­å¿«é€Ÿé€‰æ‹©ç¯å¢ƒ</li>
        </ul>
    </div>

    <div style="text-align: center; margin-top: 30px;">
        <button class="save-button" id="saveSettings">ä¿å­˜è®¾ç½®</button>
    </div>

    <script>
        // åŠ è½½è®¾ç½®
        async function loadSettings() {
            const settings = await browser.storage.local.get([
                'autoDetection',
                'showRegionColors', 
                'showEnvironmentIcons',
                'productionWarning'
            ]);
            
            Object.keys(settings).forEach(key => {
                const toggle = document.querySelector(`[data-setting="${key}"]`);
                if (toggle) {
                    toggle.classList.toggle('active', settings[key] !== false);
                }
            });
        }
        
        // ä¿å­˜è®¾ç½®
        async function saveSettings() {
            const settings = {};
            
            document.querySelectorAll('.toggle-switch').forEach(toggle => {
                const setting = toggle.dataset.setting;
                settings[setting] = toggle.classList.contains('active');
            });
            
            await browser.storage.local.set(settings);
            
            // æ˜¾ç¤ºä¿å­˜æˆåŠŸ
            const button = document.getElementById('saveSettings');
            const originalText = button.textContent;
            button.textContent = 'âœ… å·²ä¿å­˜';
            button.style.background = '#28a745';
            
            setTimeout(() => {
                button.textContent = originalText;
                button.style.background = '#4ecdc4';
            }, 2000);
        }
        
        // ç»‘å®šäº‹ä»¶
        document.querySelectorAll('.toggle-switch').forEach(toggle => {
            toggle.addEventListener('click', () => {
                toggle.classList.toggle('active');
            });
        });
        
        document.getElementById('saveSettings').addEventListener('click', saveSettings);
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', loadSettings);
    </script>
</body>
</html>
