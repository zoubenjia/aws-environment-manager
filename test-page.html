<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Console Test Page</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: #f8f9fa;
        }
        
        /* æ¨¡æ‹ŸAWSæ§åˆ¶å°å¯¼èˆªæ  */
        #awsc-nav-header {
            background: #232f3e;
            color: white;
            padding: 12px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background-color 0.3s ease;
        }
        
        .nav-logo {
            font-weight: bold;
            font-size: 18px;
        }
        
        .nav-region {
            background: rgba(255,255,255,0.1);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .content {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .test-section {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .test-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .test-btn {
            padding: 8px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .test-btn:hover {
            background: #f8f9fa;
            border-color: #007ec6;
        }
        
        .status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <!-- æ¨¡æ‹ŸAWSæ§åˆ¶å°å¯¼èˆªæ  -->
    <div id="awsc-nav-header">
        <div class="nav-logo">AWS Management Console</div>
        <div class="nav-region" id="currentRegion">Loading...</div>
    </div>

    <div class="content">
        <div class="test-section">
            <h2>ğŸ§ª AWS Environment Browser Extension æµ‹è¯•é¡µé¢</h2>
            <p>è¿™æ˜¯ä¸€ä¸ªæ¨¡æ‹ŸAWSæ§åˆ¶å°çš„æµ‹è¯•é¡µé¢ï¼Œç”¨äºæµ‹è¯•æ‰©å±•åŠŸèƒ½ã€‚</p>
            <div class="status info" id="extensionStatus">
                æ­£åœ¨æ£€æµ‹æ‰©å±•çŠ¶æ€...
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ¨ åŒºåŸŸé¢œè‰²æµ‹è¯•</h3>
            <p>ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®æ¨¡æ‹Ÿä¸åŒAWSåŒºåŸŸï¼Œæµ‹è¯•å¯¼èˆªæ é¢œè‰²å˜åŒ–ï¼š</p>
            <div class="test-buttons">
                <button class="test-btn" onclick="simulateRegion('eu-west-2')">ğŸ‡¬ğŸ‡§ ä¼¦æ•¦ (eu-west-2)</button>
                <button class="test-btn" onclick="simulateRegion('eu-central-1')">ğŸ‡©ğŸ‡ª æ³•å…°å…‹ç¦ (eu-central-1)</button>
                <button class="test-btn" onclick="simulateRegion('us-east-1')">ğŸ‡ºğŸ‡¸ åŒ—å¼—å‰å°¼äºš (us-east-1)</button>
                <button class="test-btn" onclick="simulateRegion('us-west-2')">ğŸ‡ºğŸ‡¸ ä¿„å‹’å†ˆ (us-west-2)</button>
                <button class="test-btn" onclick="simulateRegion('ap-southeast-1')">ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡ (ap-southeast-1)</button>
                <button class="test-btn" onclick="simulateRegion('ap-northeast-1')">ğŸ‡¯ğŸ‡µ ä¸œäº¬ (ap-northeast-1)</button>
            </div>
            <div class="status" id="regionStatus" style="display: none;"></div>
        </div>

        <div class="test-section">
            <h3>âŒ¨ï¸ å¿«æ·é”®æµ‹è¯•</h3>
            <p>æµ‹è¯•ä»¥ä¸‹å¿«æ·é”®åŠŸèƒ½ï¼š</p>
            <ul>
                <li><code>Ctrl+Shift+R</code> - æ˜¾ç¤ºåŒºåŸŸä¿¡æ¯</li>
                <li><code>Ctrl+Shift+E</code> - æ‰“å¼€ç¯å¢ƒåˆ‡æ¢å™¨</li>
            </ul>
            <div class="status" id="shortcutStatus" style="display: none;"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ” æ‰©å±•æ£€æµ‹</h3>
            <p>æ£€æµ‹æ‰©å±•æ˜¯å¦æ­£ç¡®åŠ è½½å’Œå·¥ä½œï¼š</p>
            <div class="test-buttons">
                <button class="test-btn" onclick="checkExtension()">æ£€æµ‹æ‰©å±•çŠ¶æ€</button>
                <button class="test-btn" onclick="checkRegionIndicator()">æ£€æŸ¥åŒºåŸŸæŒ‡ç¤ºå™¨</button>
                <button class="test-btn" onclick="checkEnvironmentWarning()">æ£€æŸ¥ç¯å¢ƒè­¦å‘Š</button>
            </div>
            <div class="status" id="checkStatus" style="display: none;"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ“‹ æµ‹è¯•æ£€æŸ¥æ¸…å•</h3>
            <div id="checklist">
                <label><input type="checkbox" id="check1"> æ‰©å±•å›¾æ ‡å‡ºç°åœ¨å·¥å…·æ </label><br>
                <label><input type="checkbox" id="check2"> å¼¹å‡ºçª—å£æ­£å¸¸æ˜¾ç¤º</label><br>
                <label><input type="checkbox" id="check3"> ç¯å¢ƒåˆ‡æ¢æŒ‰é’®å¯ç‚¹å‡»</label><br>
                <label><input type="checkbox" id="check4"> åŒºåŸŸé¢œè‰²æ­£ç¡®æ˜¾ç¤º</label><br>
                <label><input type="checkbox" id="check5"> åŒºåŸŸæŒ‡ç¤ºå™¨æ˜¾ç¤º</label><br>
                <label><input type="checkbox" id="check6"> ç”Ÿäº§ç¯å¢ƒè­¦å‘Šå·¥ä½œ</label><br>
                <label><input type="checkbox" id="check7"> å¿«æ·é”®å“åº”æ­£å¸¸</label><br>
                <label><input type="checkbox" id="check8"> è®¾ç½®é¡µé¢å¯è®¿é—®</label><br>
            </div>
            <div class="test-buttons">
                <button class="test-btn" onclick="checkAll()">å…¨éƒ¨é€‰ä¸­</button>
                <button class="test-btn" onclick="uncheckAll()">å…¨éƒ¨å–æ¶ˆ</button>
                <button class="test-btn" onclick="showResults()">æ˜¾ç¤ºæµ‹è¯•ç»“æœ</button>
            </div>
            <div class="status" id="testResults" style="display: none;"></div>
        </div>
    </div>

    <script>
        // æ¨¡æ‹ŸåŒºåŸŸåˆ‡æ¢
        function simulateRegion(region) {
            document.body.setAttribute('data-aws-region', region);
            document.getElementById('currentRegion').textContent = region;
            
            const regionNames = {
                'eu-west-2': 'ğŸ‡¬ğŸ‡§ ä¼¦æ•¦',
                'eu-central-1': 'ğŸ‡©ğŸ‡ª æ³•å…°å…‹ç¦',
                'us-east-1': 'ğŸ‡ºğŸ‡¸ åŒ—å¼—å‰å°¼äºš',
                'us-west-2': 'ğŸ‡ºğŸ‡¸ ä¿„å‹’å†ˆ',
                'ap-southeast-1': 'ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡',
                'ap-northeast-1': 'ğŸ‡¯ğŸ‡µ ä¸œäº¬'
            };
            
            const status = document.getElementById('regionStatus');
            status.className = 'status success';
            status.style.display = 'block';
            status.textContent = `âœ… å·²åˆ‡æ¢åˆ° ${regionNames[region]} (${region})`;
            
            // æ£€æŸ¥å¯¼èˆªæ é¢œè‰²æ˜¯å¦å˜åŒ–
            setTimeout(() => {
                const nav = document.getElementById('awsc-nav-header');
                const computedStyle = window.getComputedStyle(nav);
                const bgColor = computedStyle.backgroundColor;
                
                if (bgColor !== 'rgb(35, 47, 62)') { // ä¸æ˜¯é»˜è®¤é¢œè‰²
                    status.textContent += ` - å¯¼èˆªæ é¢œè‰²å·²å˜åŒ–: ${bgColor}`;
                } else {
                    status.className = 'status error';
                    status.textContent = `âŒ å¯¼èˆªæ é¢œè‰²æœªå˜åŒ–ï¼Œè¯·æ£€æŸ¥æ‰©å±•CSSæ˜¯å¦åŠ è½½`;
                }
            }, 100);
        }
        
        // æ£€æµ‹æ‰©å±•çŠ¶æ€
        function checkExtension() {
            const status = document.getElementById('checkStatus');
            status.style.display = 'block';
            
            // æ£€æŸ¥æ˜¯å¦æœ‰åŒºåŸŸæŒ‡ç¤ºå™¨
            const indicator = document.querySelector('.aws-region-indicator');
            if (indicator) {
                status.className = 'status success';
                status.textContent = 'âœ… æ‰©å±•æ­£å¸¸å·¥ä½œ - æ£€æµ‹åˆ°åŒºåŸŸæŒ‡ç¤ºå™¨';
            } else {
                status.className = 'status error';
                status.textContent = 'âŒ æ‰©å±•å¯èƒ½æœªæ­£å¸¸å·¥ä½œ - æœªæ£€æµ‹åˆ°åŒºåŸŸæŒ‡ç¤ºå™¨';
            }
        }
        
        // æ£€æŸ¥åŒºåŸŸæŒ‡ç¤ºå™¨
        function checkRegionIndicator() {
            const status = document.getElementById('checkStatus');
            status.style.display = 'block';
            
            const indicators = document.querySelectorAll('.aws-region-indicator, .aws-environment-indicator');
            if (indicators.length > 0) {
                status.className = 'status success';
                status.textContent = `âœ… æ‰¾åˆ° ${indicators.length} ä¸ªæŒ‡ç¤ºå™¨`;
            } else {
                status.className = 'status error';
                status.textContent = 'âŒ æœªæ‰¾åˆ°åŒºåŸŸæˆ–ç¯å¢ƒæŒ‡ç¤ºå™¨';
            }
        }
        
        // æ£€æŸ¥ç¯å¢ƒè­¦å‘Š
        function checkEnvironmentWarning() {
            const status = document.getElementById('checkStatus');
            status.style.display = 'block';
            
            const warning = document.querySelector('.aws-environment-warning');
            if (warning) {
                status.className = 'status success';
                status.textContent = 'âœ… æ£€æµ‹åˆ°ç¯å¢ƒè­¦å‘ŠæŒ‡ç¤ºå™¨';
            } else {
                status.className = 'status info';
                status.textContent = 'â„¹ï¸ æœªæ£€æµ‹åˆ°ç¯å¢ƒè­¦å‘Šï¼ˆå¯èƒ½ä¸åœ¨ç”Ÿäº§ç¯å¢ƒï¼‰';
            }
        }
        
        // æ£€æŸ¥æ¸…å•åŠŸèƒ½
        function checkAll() {
            const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
            checkboxes.forEach(cb => cb.checked = true);
        }
        
        function uncheckAll() {
            const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
            checkboxes.forEach(cb => cb.checked = false);
        }
        
        function showResults() {
            const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
            const total = checkboxes.length;
            const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
            
            const status = document.getElementById('testResults');
            status.style.display = 'block';
            
            const percentage = Math.round((checked / total) * 100);
            
            if (percentage === 100) {
                status.className = 'status success';
                status.textContent = `ğŸ‰ æµ‹è¯•å®Œæˆåº¦: ${percentage}% (${checked}/${total}) - æ‰©å±•åŠŸèƒ½å®Œç¾ï¼`;
            } else if (percentage >= 75) {
                status.className = 'status success';
                status.textContent = `ğŸ‘ æµ‹è¯•å®Œæˆåº¦: ${percentage}% (${checked}/${total}) - æ‰©å±•åŠŸèƒ½è‰¯å¥½`;
            } else if (percentage >= 50) {
                status.className = 'status info';
                status.textContent = `âš ï¸ æµ‹è¯•å®Œæˆåº¦: ${percentage}% (${checked}/${total}) - æ‰©å±•éƒ¨åˆ†åŠŸèƒ½æ­£å¸¸`;
            } else {
                status.className = 'status error';
                status.textContent = `âŒ æµ‹è¯•å®Œæˆåº¦: ${percentage}% (${checked}/${total}) - æ‰©å±•éœ€è¦æ£€æŸ¥`;
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // è®¾ç½®é»˜è®¤åŒºåŸŸ
            simulateRegion('eu-west-2');
            
            // æ£€æµ‹æ‰©å±•çŠ¶æ€
            setTimeout(() => {
                const extensionStatus = document.getElementById('extensionStatus');
                const indicator = document.querySelector('.aws-region-indicator');
                
                if (indicator) {
                    extensionStatus.className = 'status success';
                    extensionStatus.textContent = 'âœ… AWS Environment Browser Extension å·²åŠ è½½';
                } else {
                    extensionStatus.className = 'status error';
                    extensionStatus.textContent = 'âŒ æ‰©å±•æœªæ£€æµ‹åˆ°ï¼Œè¯·ç¡®è®¤å·²æ­£ç¡®å®‰è£…';
                }
            }, 1000);
        });
        
        // ç›‘å¬å¿«æ·é”®
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey && event.shiftKey) {
                const status = document.getElementById('shortcutStatus');
                status.style.display = 'block';
                
                if (event.key === 'R') {
                    status.className = 'status success';
                    status.textContent = 'âœ… Ctrl+Shift+R å¿«æ·é”®å“åº”æ­£å¸¸';
                } else if (event.key === 'E') {
                    status.className = 'status success';
                    status.textContent = 'âœ… Ctrl+Shift+E å¿«æ·é”®å“åº”æ­£å¸¸';
                }
            }
        });
    </script>
</body>
</html>
